jQuery(function(a){if("autocomplete"!=wpbisnis_wc_indo_ongkir_ajax.mode){var b=wpbisnis_wc_indo_ongkir_ajax.debug;b&&console.log("billing - wc indo ongkir is started...");var c=wpbisnis_wc_indo_ongkir_ajax.placeholder_kota,d=wpbisnis_wc_indo_ongkir_ajax.placeholder_kecamatan,e=wpbisnis_wc_indo_ongkir_ajax.user_billing_country;b&&console.log("billing - user_billing_country = "+e);var f=wpbisnis_wc_indo_ongkir_ajax.user_billing_state;b&&console.log("billing - user_billing_state = "+f);var g=wpbisnis_wc_indo_ongkir_ajax.user_billing_city;b&&console.log("billing - user_billing_city = "+g);var h=wpbisnis_wc_indo_ongkir_ajax.user_billing_kota;b&&console.log("billing - user_billing_kota = "+h);var i=wpbisnis_wc_indo_ongkir_ajax.user_billing_kecamatan;b&&console.log("billing - user_billing_kecamatan = "+i),jQuery(document).ready(function(a){a("#billing_country").trigger("change")});var j;j=!(e&&f&&g&&h&&i),b&&console.log("billing - billing_indo_ongkir_init = "+j),a("#billing_indo_ongkir_kota").length&&a().selectWoo&&a("#billing_indo_ongkir_kota").selectWoo({width:"100%"}),a("#billing_indo_ongkir_kecamatan").length&&a().selectWoo&&a("#billing_indo_ongkir_kecamatan").selectWoo({width:"100%"}),a(document.body).on("change","#billing_country",function(){var c=a("#billing_country").val();b&&console.log("billing - #billing_country change event, current_billing_country "+c),j===!0&&(b&&console.log("billing - #billing_country + billing_indo_ongkir_init..."),a("#billing_state").trigger("change"))}),a(document.body).on("change","#billing_state",function(){var d=a("#billing_country").val();if("ID"===d){var e=a("#billing_state").val();b&&console.log("billing - #billing_state change event, current_billing_state "+e),a().selectWoo&&a("#billing_state").selectWoo({width:"100%"}),a("#billing_city").val(""),a("#billing_indo_ongkir_kota").val(""),a("#billing_indo_ongkir_kota").empty(),a("#billing_indo_ongkir_kota").prop("disabled",!0),a("#billing_indo_ongkir_kecamatan").val(""),a("#billing_indo_ongkir_kecamatan").empty(),a("#billing_indo_ongkir_kecamatan").prop("disabled",!0),e&&(a.ajax({url:wpbisnis_wc_indo_ongkir_ajax.json_url+"kota/"+e+".json",dataType:"json",success:function(d){b&&console.log("ajax - billing_state "+e+" - "+JSON.stringify(d)),d&&(a("<option/>",{value:"",text:c}).appendTo("#billing_indo_ongkir_kota"),a.each(d,function(b,c){a("<option/>",{value:b,text:c}).appendTo("#billing_indo_ongkir_kota")}),a().selectWoo&&a("#billing_indo_ongkir_kota").selectWoo({width:"100%"}),a("#billing_indo_ongkir_kota").prop("disabled",!1),j===!1&&a("#billing_indo_ongkir_kota").val(h).trigger("change"))}}),a("#billing_city").trigger("change"))}}),a(document.body).on("change","#billing_indo_ongkir_kota",function(){var c=a("#billing_state").val(),e=a("#billing_indo_ongkir_kota").val();b&&console.log("billing - #billing_indo_ongkir_kota change event, current_billing_kota "+e),a("#billing_city").val(""),a("#billing_indo_ongkir_kecamatan").val(""),a("#billing_indo_ongkir_kecamatan").empty(),a("#billing_indo_ongkir_kecamatan").prop("disabled",!0),e?(a.ajax({url:wpbisnis_wc_indo_ongkir_ajax.json_url+"kecamatan/"+c+".json",dataType:"json",success:function(c){b&&console.log("ajax - billing_kota "+e+" - "+JSON.stringify(c)),c[e]&&(c=c[e],a("<option/>",{value:"",text:d}).appendTo("#billing_indo_ongkir_kecamatan"),a.each(c,function(b,c){a("<option/>",{value:b,text:c}).appendTo("#billing_indo_ongkir_kecamatan")}),a().selectWoo&&a("#billing_indo_ongkir_kecamatan").selectWoo({width:"100%"}),a("#billing_indo_ongkir_kecamatan").prop("disabled",!1),j===!1&&(a("#billing_indo_ongkir_kecamatan").val(i).trigger("change"),j=!0,b&&console.log("billing - billing_indo_ongkir_init = "+j)))}}),a("#billing_city").trigger("change")):j===!1&&(j=!0,b&&console.log("billing - billing_indo_ongkir_init = "+j))}),a(document.body).on("change","#billing_indo_ongkir_kecamatan",function(){var c=a("#billing_indo_ongkir_kecamatan").val();b&&console.log("billing - #billing_indo_ongkir_kecamatan change event, current_billing_kecamatan "+c);var e=a("#billing_indo_ongkir_kecamatan").find("option:selected").text();if(e==d)a("#billing_city").val("");else{var f=a("#billing_indo_ongkir_kota").find("option:selected").text();a("#billing_city").val(e+", "+f)}a("#billing_city").trigger("change")}),a(document.body).on("change","#billing_city",function(){var c=a("#billing_city").val();b&&console.log("billing - #billing_city change event, current_billing_city "+c)})}}),jQuery(function(a){if("autocomplete"!=wpbisnis_wc_indo_ongkir_ajax.mode){var b=wpbisnis_wc_indo_ongkir_ajax.debug;b&&console.log("shipping - wc indo ongkir is started...");var c=wpbisnis_wc_indo_ongkir_ajax.placeholder_kota,d=wpbisnis_wc_indo_ongkir_ajax.placeholder_kecamatan,e=wpbisnis_wc_indo_ongkir_ajax.user_shipping_country;b&&console.log("shipping - user_shipping_country = "+e);var f=wpbisnis_wc_indo_ongkir_ajax.user_shipping_state;b&&console.log("shipping - user_shipping_state = "+f);var g=wpbisnis_wc_indo_ongkir_ajax.user_shipping_city;b&&console.log("shipping - user_shipping_city = "+g);var h=wpbisnis_wc_indo_ongkir_ajax.user_shipping_kota;b&&console.log("shipping - user_shipping_kota = "+h);var i=wpbisnis_wc_indo_ongkir_ajax.user_shipping_kecamatan;b&&console.log("shipping - user_shipping_kecamatan = "+i),jQuery(document).ready(function(a){a("#shipping_country").trigger("change")});var j;j=!(e&&f&&g&&h&&i),b&&console.log("shipping - shipping_indo_ongkir_init = "+j),a("#shipping_indo_ongkir_kota").length&&a().selectWoo&&a("#shipping_indo_ongkir_kota").selectWoo({width:"100%"}),a("#shipping_indo_ongkir_kecamatan").length&&a().selectWoo&&a("#shipping_indo_ongkir_kecamatan").selectWoo({width:"100%"}),a(document.body).on("change","#shipping_country",function(){var c=a("#shipping_country").val();b&&console.log("shipping - #shipping_country change event, current_shipping_country "+c),j===!0&&(b&&console.log("shipping - #shipping_country + shipping_indo_ongkir_init..."),a("#shipping_state").trigger("change"))}),a(document.body).on("change","#shipping_state",function(){var d=a("#shipping_country").val();if("ID"===d){var e=a("#shipping_state").val();b&&console.log("shipping - #shipping_state change event, current_shipping_state "+e),a().selectWoo&&a("#shipping_state").selectWoo({width:"100%"}),a("#shipping_city").val(""),a("#shipping_indo_ongkir_kota").val(""),a("#shipping_indo_ongkir_kota").empty(),a("#shipping_indo_ongkir_kota").prop("disabled",!0),a("#shipping_indo_ongkir_kecamatan").val(""),a("#shipping_indo_ongkir_kecamatan").empty(),a("#shipping_indo_ongkir_kecamatan").prop("disabled",!0),e&&(a.ajax({url:wpbisnis_wc_indo_ongkir_ajax.json_url+"kota/"+e+".json",dataType:"json",success:function(d){b&&console.log("ajax - shipping_state "+e+" - "+JSON.stringify(d)),d&&(a("<option/>",{value:"",text:c}).appendTo("#shipping_indo_ongkir_kota"),a.each(d,function(b,c){a("<option/>",{value:b,text:c}).appendTo("#shipping_indo_ongkir_kota")}),a().selectWoo&&a("#shipping_indo_ongkir_kota").selectWoo({width:"100%"}),a("#shipping_indo_ongkir_kota").prop("disabled",!1),j===!1&&a("#shipping_indo_ongkir_kota").val(h).trigger("change"))}}),a("#shipping_city").trigger("change"))}}),a(document.body).on("change","#shipping_indo_ongkir_kota",function(){var c=a("#shipping_state").val(),e=a("#shipping_indo_ongkir_kota").val();b&&console.log("shipping - #shipping_indo_ongkir_kota change event, current_shipping_kota "+e),a("#shipping_city").val(""),a("#shipping_indo_ongkir_kecamatan").val(""),a("#shipping_indo_ongkir_kecamatan").empty(),a("#shipping_indo_ongkir_kecamatan").prop("disabled",!0),e?(a.ajax({url:wpbisnis_wc_indo_ongkir_ajax.json_url+"kecamatan/"+c+".json",dataType:"json",success:function(c){b&&console.log("ajax - shipping_kota "+e+" - "+JSON.stringify(c)),c[e]&&(c=c[e],a("<option/>",{value:"",text:d}).appendTo("#shipping_indo_ongkir_kecamatan"),a.each(c,function(b,c){a("<option/>",{value:b,text:c}).appendTo("#shipping_indo_ongkir_kecamatan")}),a().selectWoo&&a("#shipping_indo_ongkir_kecamatan").selectWoo({width:"100%"}),a("#shipping_indo_ongkir_kecamatan").prop("disabled",!1),j===!1&&(a("#shipping_indo_ongkir_kecamatan").val(i).trigger("change"),j=!0,b&&console.log("shipping - shipping_indo_ongkir_init = "+j)))}}),a("#shipping_city").trigger("change")):j===!1&&(j=!0,b&&console.log("shipping - shipping_indo_ongkir_init = "+j))}),a(document.body).on("change","#shipping_indo_ongkir_kecamatan",function(){var c=a("#shipping_indo_ongkir_kecamatan").val();b&&console.log("shipping - #shipping_indo_ongkir_kecamatan change event, current_shipping_kecamatan "+c);var e=a("#shipping_indo_ongkir_kecamatan").find("option:selected").text();if(e==d)a("#shipping_city").val("");else{var f=a("#shipping_indo_ongkir_kota").find("option:selected").text();a("#shipping_city").val(e+", "+f)}a("#shipping_city").trigger("change")}),a(document.body).on("change","#shipping_city",function(){var c=a("#shipping_city").val();b&&console.log("shipping - #shipping_city change event, current_shipping_city "+c)})}}),jQuery(function(a){if("autocomplete"==wpbisnis_wc_indo_ongkir_ajax.mode){var b=wpbisnis_wc_indo_ongkir_ajax.debug;b&&console.log("wc indo ongkir is started..."),jQuery(document).ready(function(a){a("#billing_country").trigger("change"),a("#shipping_country").trigger("change"),b&&console.log("wc indo ongkir init run...")});var c={};if(a().selectWoo){var d=function(){a("select.indo_ongkir_autocomplete").each(function(){a(this).selectWoo({placeholder:wpbisnis_wc_indo_ongkir_ajax.placeholder,width:"100%",delay:wpbisnis_wc_indo_ongkir_ajax.json_delay,minimumInputLength:3,ajax:{url:wpbisnis_wc_indo_ongkir_ajax.json_url,data:function(a){return a},processResults:function(a,b){return{results:a}},cache:!0},language:{inputTooShort:function(){return wpbisnis_wc_indo_ongkir_ajax.placeholder}},templateSelection:function(a){return c[a.id]=a.text,a.id?a.id:wpbisnis_wc_indo_ongkir_ajax.placeholder}}),a(this).on("select2:select",function(){a(this).focus()}),a(this).data("select2").on("open",function(a){this.results.clear(),this.dropdown._positionDropdown()})})};d(),a(document.body).bind("indo_ongkir_autocomplete_changed",function(){d()})}a(document.body).on("change","select.country_to_state, input.country_to_state",function(){var b=a(this).closest(".woocommerce-billing-fields, .woocommerce-shipping-fields, .woocommerce-shipping-calculator");b.length||(b=a(this).closest(".form-row").parent());var c=a(this).val(),d=b.find("#billing_state, #shipping_state"),e=b.find("#billing_city, #shipping_city"),f=e.closest("p.form-row"),g=d.val(),h=e.val(),i=e.attr("name"),j=e.attr("id"),k=e.attr("class"),l=e.attr("placeholder")||e.attr("data-placeholder")||"";if("ID"==c){var m="";h&&(m=m+'<option value="'+h+'">'+h+", "+g+"</option>"),e.closest("p.form-row").show(),e.is("input")&&(e.replaceWith('<select name="'+i+'" id="'+j+'" class="'+k+' indo_ongkir_autocomplete" data-placeholder="'+l+'"></select>'),e=b.find("#billing_city, #shipping_city")),e.html(m),e.val(h).change(),a(document.body).trigger("indo_ongkir_autocomplete_changed",[c,b])}else e.is("select")&&(f.show().find(".select2-container").remove(),e.replaceWith('<input type="text" class="input-text" name="'+i+'" id="'+j+'" placeholder="'+l+'" />'),a(document.body).trigger("indo_ongkir_autocomplete_changed",[c,b]))}),a(document.body).on("change","#billing_city",function(){var d=a("#billing_city").val(),e="",f="";c[d]&&(e=c[d],f=e.slice(-2),a("#billing_state").val(f).trigger("change")),b&&console.log("billing - #billing_city change event, current_billing_city "+d+", current_billing_city_text "+e+", current_billing_state "+f)}),a(document.body).on("change","#shipping_city",function(){var d=a("#shipping_city").val(),e="",f="";c[d]&&(e=c[d],f=e.slice(-2),a("#shipping_state").val(f).trigger("change")),b&&console.log("shipping - #shipping_city change event, current_shipping_city "+d+", current_shipping_city_text "+e+", current_shipping_state "+f)})}});